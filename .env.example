### Copy this file to .env and replace [YOUR_PASSWORD] and the cert path before running
# Example DATABASE_URL for Supabase with a root CA cert
DATABASE_URL=postgresql://postgres:[YOUR_PASSWORD]@db.miqzywzuqzeffqpiupjm.supabase.co:5432/postgres?sslmode=verify-full&sslrootcert=/path/to/root.crt

# If you prefer a simpler connection string (not recommended for production):
# DATABASE_URL=postgresql://postgres:[YOUR_PASSWORD]@db.miqzywzuqzeffqpiupjm.supabase.co:5432/postgres

# Notes:
# - Never commit your real password or private certs to the repository.
# - Use the first form (with sslmode=verify-full and sslrootcert) when connecting
#   to Supabase-hosted Postgres to enforce TLS verification.
# .env.example
# Copy this file to .env and fill in values. Never commit real secrets.

# ----------------------
# Frontend (Vite) variables
# ----------------------
VITE_API_BASE_URL=https://your-railway-app.up.railway.app
VITE_WS_URL=wss://your-railway-app.up.railway.app/ws
# Only if the client directly queries Supabase (RLS safe operations):
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=public-anon-key-here

# ----------------------
# Server (Railway) variables
# ----------------------
NODE_ENV=production
PORT=8888
DEV_FALLBACK=false
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=service-role-secret-NOT-IN-CLIENT
CORS_ALLOWED_ORIGINS=https://your-site.netlify.app,https://www.yourdomain.com
BROADCAST_API_KEY=replace-with-long-random-secret

# Optional diagnostics / tuning
LOG_MEMORY=false
DEMO_DATA_MAX_BYTES=26214400

# Notes:
# - Never expose SUPABASE_SERVICE_ROLE_KEY in client bundles.
# - Rotate BROADCAST_API_KEY if leaked; presence enables secure auth for /api/broadcast.
# - Update CORS_ALLOWED_ORIGINS whenever you add new production domains.
# - Keep DEV_FALLBACK=false in production so draft/unpublished data isn't exposed.# Supabase Configuration
VITE_SUPABASE_URL=https://miqzywzuqzeffqpiupjm.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1pcXp5d3p1cXplZmZxcGl1cGptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgzMjM3NzksImV4cCI6MjA3Mzg5OTc3OX0.WTlTJLGNkiXzdjpz0g29DEvHgfJPsBVqVFtI7pDKt5w
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key-here

# Authentication Configuration
# REQUIRED: Generate a secure random key (minimum 32 characters)
# You can generate one with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
JWT_SECRET=your-very-secret-key-minimum-32-characters-long-change-this

# JWT Token Expiration (optional - defaults provided)
JWT_EXPIRES_IN=15m
REFRESH_TOKEN_EXPIRES_IN=7d

# Server Configuration
PORT=8787
NODE_ENV=development

# Demo Mode (allows demo login credentials without database)
DEMO_MODE=true
E2E_TEST_MODE=false

# Client Configuration (for frontend)
VITE_API_URL=http://localhost:8787/api

# Security (production)
# ENCRYPTION_KEY=auto-generated-per-session
