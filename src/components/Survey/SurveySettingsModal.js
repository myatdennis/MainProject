import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from 'react';
import { X, Settings, Users, Shield, Bell } from 'lucide-react';
const SurveySettingsModal = ({ isOpen, onClose, settings, onSave }) => {
    const [tempSettings, setTempSettings] = useState(settings);
    if (!isOpen)
        return null;
    const handleSave = () => {
        onSave(tempSettings);
        onClose();
    };
    const updateSettings = (section, key, value) => {
        setTempSettings(prev => ({
            ...prev,
            [section]: {
                ...prev[section],
                [key]: value
            }
        }));
    };
    return (_jsx("div", { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50", role: "dialog", "aria-modal": "true", "aria-labelledby": "settings-modal-title", children: _jsxs("div", { className: "bg-white rounded-xl shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-hidden", children: [_jsxs("div", { className: "flex items-center justify-between p-6 border-b border-gray-200", children: [_jsxs("div", { className: "flex items-center space-x-3", children: [_jsx("div", { className: "bg-gray-100 p-2 rounded-lg", children: _jsx(Settings, { className: "h-6 w-6 text-gray-600" }) }), _jsxs("div", { children: [_jsx("h2", { id: "settings-modal-title", className: "text-xl font-bold text-gray-900", children: "Survey Settings" }), _jsx("p", { className: "text-sm text-gray-600", children: "Configure access control, notifications, and advanced options" })] })] }), _jsx("button", { onClick: onClose, className: "p-2 text-gray-400 hover:text-gray-600 rounded-lg", "aria-label": "Close settings modal", children: _jsx(X, { className: "h-5 w-5" }) })] }), _jsxs("div", { className: "p-6 overflow-y-auto max-h-[60vh] space-y-6", children: [_jsxs("section", { children: [_jsxs("div", { className: "flex items-center space-x-2 mb-4", children: [_jsx(Shield, { className: "h-5 w-5 text-blue-600" }), _jsx("h3", { className: "text-lg font-semibold text-gray-900", children: "Access Control" })] }), _jsxs("div", { className: "space-y-4 pl-7", children: [_jsxs("label", { className: "flex items-center space-x-3", children: [_jsx("input", { type: "checkbox", checked: tempSettings.accessControl.requireAuth, onChange: (e) => updateSettings('accessControl', 'requireAuth', e.target.checked), className: "rounded border-gray-300 text-blue-600 focus:ring-blue-500" }), _jsx("span", { className: "text-sm text-gray-700", children: "Require authentication" })] }), _jsxs("label", { className: "flex items-center space-x-3", children: [_jsx("input", { type: "checkbox", checked: tempSettings.accessControl.allowAnonymous, onChange: (e) => updateSettings('accessControl', 'allowAnonymous', e.target.checked), className: "rounded border-gray-300 text-blue-600 focus:ring-blue-500" }), _jsx("span", { className: "text-sm text-gray-700", children: "Allow anonymous responses" })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Time limit (minutes, 0 = no limit)" }), _jsx("input", { type: "number", value: tempSettings.accessControl.timeLimit, onChange: (e) => updateSettings('accessControl', 'timeLimit', parseInt(e.target.value) || 0), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", min: "0" })] })] })] }), _jsxs("section", { children: [_jsxs("div", { className: "flex items-center space-x-2 mb-4", children: [_jsx(Bell, { className: "h-5 w-5 text-green-600" }), _jsx("h3", { className: "text-lg font-semibold text-gray-900", children: "Notifications" })] }), _jsxs("div", { className: "space-y-4 pl-7", children: [_jsxs("label", { className: "flex items-center space-x-3", children: [_jsx("input", { type: "checkbox", checked: tempSettings.notifications.sendReminders, onChange: (e) => updateSettings('notifications', 'sendReminders', e.target.checked), className: "rounded border-gray-300 text-blue-600 focus:ring-blue-500" }), _jsx("span", { className: "text-sm text-gray-700", children: "Send reminder emails" })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Reminder frequency" }), _jsxs("select", { value: tempSettings.notifications.reminderFrequency, onChange: (e) => updateSettings('notifications', 'reminderFrequency', e.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500", children: [_jsx("option", { value: "daily", children: "Daily" }), _jsx("option", { value: "weekly", children: "Weekly" }), _jsx("option", { value: "biweekly", children: "Bi-weekly" })] })] }), _jsxs("label", { className: "flex items-center space-x-3", children: [_jsx("input", { type: "checkbox", checked: tempSettings.notifications.completionNotifications, onChange: (e) => updateSettings('notifications', 'completionNotifications', e.target.checked), className: "rounded border-gray-300 text-blue-600 focus:ring-blue-500" }), _jsx("span", { className: "text-sm text-gray-700", children: "Send completion notifications" })] })] })] }), _jsxs("section", { children: [_jsxs("div", { className: "flex items-center space-x-2 mb-4", children: [_jsx(Users, { className: "h-5 w-5 text-purple-600" }), _jsx("h3", { className: "text-lg font-semibold text-gray-900", children: "Advanced Options" })] }), _jsxs("div", { className: "space-y-4 pl-7", children: [_jsxs("label", { className: "flex items-center space-x-3", children: [_jsx("input", { type: "checkbox", checked: tempSettings.advanced.allowBack, onChange: (e) => updateSettings('advanced', 'allowBack', e.target.value), className: "rounded border-gray-300 text-blue-600 focus:ring-blue-500" }), _jsx("span", { className: "text-sm text-gray-700", children: "Allow navigating back to previous questions" })] }), _jsxs("label", { className: "flex items-center space-x-3", children: [_jsx("input", { type: "checkbox", checked: tempSettings.advanced.showProgress, onChange: (e) => updateSettings('advanced', 'showProgress', e.target.checked), className: "rounded border-gray-300 text-blue-600 focus:ring-blue-500" }), _jsx("span", { className: "text-sm text-gray-700", children: "Show progress indicator" })] }), _jsxs("label", { className: "flex items-center space-x-3", children: [_jsx("input", { type: "checkbox", checked: tempSettings.advanced.randomizeQuestions, onChange: (e) => updateSettings('advanced', 'randomizeQuestions', e.target.checked), className: "rounded border-gray-300 text-blue-600 focus:ring-blue-500" }), _jsx("span", { className: "text-sm text-gray-700", children: "Randomize question order" })] }), _jsxs("label", { className: "flex items-center space-x-3", children: [_jsx("input", { type: "checkbox", checked: tempSettings.advanced.preventMultipleSubmissions, onChange: (e) => updateSettings('advanced', 'preventMultipleSubmissions', e.target.checked), className: "rounded border-gray-300 text-blue-600 focus:ring-blue-500" }), _jsx("span", { className: "text-sm text-gray-700", children: "Prevent multiple submissions" })] })] })] })] }), _jsxs("div", { className: "flex items-center justify-between p-6 border-t border-gray-200", children: [_jsx("button", { onClick: onClose, className: "px-4 py-2 text-gray-600 hover:text-gray-800", children: "Cancel" }), _jsx("button", { onClick: handleSave, className: "px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors", children: "Save Settings" })] })] }) }));
};
export default SurveySettingsModal;
