var g=(d,l,t)=>new Promise((u,m)=>{var x=a=>{try{o(t.next(a))}catch(n){m(n)}},i=a=>{try{o(t.throw(a))}catch(n){m(n)}},o=a=>a.done?u(a.value):Promise.resolve(a.value).then(x,i);o((t=t.apply(d,l)).next())});import{u as _,r as c,j as e,a2 as M,f as h,bb as F,C as j,x as b,z as B,E as R,D as z,bg as G,bd as V}from"./vendor-react-CxiH8E8S.js";import{S as $}from"./SEO-BOa_HeR8.js";import{u as Z}from"./admin-secondary-CUpQNB9X.js";import"./supabase-CqkleIqs.js";import"./vendor-BB3ggLJO.js";import"./vendor-react-dom-BPB-1lFg.js";import"./admin-courses-B2T21ZJQ.js";const X=()=>{const d=_(),{showToast:l}=Z(),[t,u]=c.useState([]),[m,x]=c.useState(!0),[i,o]=c.useState(""),[a,n]=c.useState("all"),[p,v]=c.useState("all"),[f,N]=c.useState("date");c.useEffect(()=>{w()},[]);const w=()=>g(void 0,null,function*(){x(!0);try{u([{id:"cert_001",courseTitle:"Inclusive Leadership Fundamentals",courseName:"inclusive-leadership-fundamentals",completionDate:"2024-01-15",issueDate:"2024-01-16",certificateUrl:"/certificates/cert_001.pdf",instructor:"Dr. Sarah Johnson",credentialId:"ILF-2024-001",skills:["Inclusive Leadership","Team Management","Bias Recognition"],category:"Leadership",hours:12,grade:"A",status:"active",shareableUrl:"https://platform.inclusiveexcellence.com/verify/cert_001"},{id:"cert_002",courseTitle:"Courageous Conversations",courseName:"courageous-conversations",completionDate:"2024-01-20",issueDate:"2024-01-21",certificateUrl:"/certificates/cert_002.pdf",instructor:"Maria Rodriguez",credentialId:"CC-2024-002",skills:["Difficult Conversations","Conflict Resolution","Active Listening"],category:"Communication",hours:8,grade:"A-",status:"active",shareableUrl:"https://platform.inclusiveexcellence.com/verify/cert_002"},{id:"cert_003",courseTitle:"DEI Strategy Implementation",courseName:"dei-strategy",completionDate:"2023-11-10",issueDate:"2023-11-11",certificateUrl:"/certificates/cert_003.pdf",instructor:"Dr. Michael Chen",credentialId:"DEI-2023-003",skills:["Strategy Development","Change Management","Metrics & Analytics"],category:"Strategy",hours:16,grade:"B+",status:"active",validUntil:"2026-11-11",shareableUrl:"https://platform.inclusiveexcellence.com/verify/cert_003"}])}catch(s){l("Failed to load certificates","error")}finally{x(!1)}}),y=t.filter(s=>{const r=s.courseTitle.toLowerCase().includes(i.toLowerCase())||s.skills.some(E=>E.toLowerCase().includes(i.toLowerCase())),U=a==="all"||s.category.toLowerCase()===a,I=p==="all"||s.status===p;return r&&U&&I}).sort((s,r)=>{switch(f){case"date":return new Date(r.completionDate).getTime()-new Date(s.completionDate).getTime();case"course":return s.courseTitle.localeCompare(r.courseTitle);case"grade":return(r.grade||"Z").localeCompare(s.grade||"Z");default:return 0}}),C=["all",...new Set(t.map(s=>s.category.toLowerCase()))],S=s=>g(void 0,null,function*(){try{l(`Downloading certificate for ${s.courseTitle}...`,"info"),setTimeout(()=>{l("Certificate downloaded successfully!","success")},1e3)}catch(r){l("Failed to download certificate","error")}}),D=s=>g(void 0,null,function*(){try{yield navigator.clipboard.writeText(s.shareableUrl),l("Certificate link copied to clipboard!","success")}catch(r){l("Failed to copy link","error")}}),k=s=>{window.open(s.certificateUrl,"_blank")},T=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),L=s=>{if(!s)return"text-gray-500";switch(s.charAt(0)){case"A":return"text-green-600";case"B":return"text-blue-600";case"C":return"text-yellow-600";default:return"text-gray-500"}},A=s=>{switch(s){case"active":return"text-green-600 bg-green-100";case"expired":return"text-yellow-600 bg-yellow-100";case"revoked":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return e.jsxs(e.Fragment,{children:[e.jsx($,{title:"My Certificates - Learning Platform",description:"View and manage your earned certificates and achievements",keywords:["certificates","achievements","credentials","learning","completion"]}),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>d("/lms/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[e.jsx(M,{className:"h-5 w-5 mr-2"}),"Back to Dashboard"]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(h,{className:"h-6 w-6 text-orange-500"}),e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"My Certificates"})]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("span",{className:"text-sm text-gray-600",children:[t.length," certificate",t.length!==1?"s":""]})})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{className:"h-8 w-8 text-orange-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(F,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(s=>s.status==="active").length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{className:"h-8 w-8 text-blue-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Hours Completed"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.reduce((s,r)=>s+r.hours,0)})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{className:"h-8 w-8 text-purple-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Skills Earned"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:new Set(t.flatMap(s=>s.skills)).size})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search certificates...",value:i,onChange:s=>o(s.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsx("select",{value:a,onChange:s=>n(s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:C.map(s=>e.jsx("option",{value:s,children:s==="all"?"All Categories":s.charAt(0).toUpperCase()+s.slice(1)},s))}),e.jsxs("select",{value:p,onChange:s=>v(s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"expired",children:"Expired"})]}),e.jsxs("select",{value:f,onChange:s=>N(s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"date",children:"Sort by Date"}),e.jsx("option",{value:"course",children:"Sort by Course"}),e.jsx("option",{value:"grade",children:"Sort by Grade"})]})]})}),m?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading certificates..."})]}):y.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx(h,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:i?"No matching certificates":"No certificates yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:i?"Try adjusting your search filters":"Complete courses to earn your first certificate!"}),!i&&e.jsx("button",{onClick:()=>d("/lms/courses"),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-orange-600 rounded-lg hover:bg-orange-700",children:"Browse Courses"})]}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:y.map(s=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(h,{className:"h-8 w-8 text-white"}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${A(s.status)}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]}),e.jsx("h3",{className:"text-white font-bold text-lg mt-2 line-clamp-2",children:s.courseTitle}),e.jsxs("p",{className:"text-orange-100 text-sm",children:["Credential ID: ",s.credentialId]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),"Completed: ",T(s.completionDate)]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(b,{className:"h-4 w-4 mr-2"}),"Instructor: ",s.instructor]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:[s.hours," hours"]}),s.grade&&e.jsxs("span",{className:`font-medium ${L(s.grade)}`,children:["Grade: ",s.grade]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Skills Demonstrated:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.skills.slice(0,3).map(r=>e.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded-full",children:r},r)),s.skills.length>3&&e.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded-full",children:["+",s.skills.length-3," more"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>k(s),className:"flex-1 flex items-center justify-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"View"]}),e.jsxs("button",{onClick:()=>S(s),className:"flex-1 flex items-center justify-center px-3 py-2 text-sm font-medium text-white bg-orange-600 rounded-lg hover:bg-orange-700",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Download"]}),e.jsx("button",{onClick:()=>D(s),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:e.jsx(G,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsxs("a",{href:s.shareableUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-xs text-gray-500 hover:text-orange-600",children:[e.jsx(V,{className:"h-3 w-3 mr-1"}),"Verify Certificate"]})})]})]},s.id))})]})]})]})};export{X as default};
