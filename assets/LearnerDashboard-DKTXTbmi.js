var q=Object.defineProperty,J=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var $=(s,t,a)=>t in s?q(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,O=(s,t)=>{for(var a in t||(t={}))T.call(t,a)&&$(s,a,t[a]);if(w)for(var a of w(t))A.call(t,a)&&$(s,a,t[a]);return s},B=(s,t)=>J(s,W(t));var V=(s,t)=>{var a={};for(var n in s)T.call(s,n)&&t.indexOf(n)<0&&(a[n]=s[n]);if(s!=null&&w)for(var n of w(s))t.indexOf(n)<0&&A.call(s,n)&&(a[n]=s[n]);return a};import{j as e,bj as K,r as c,u as D,z as E,av as X,bk as Y,f as Z,B as ee,b as se,g as I,c as z,a7 as R,t as H,ab as F,E as te,ap as re}from"./vendor-react-CA7hxuyG.js";import{L as ae,C as ne}from"./index-PvncGL5w.js";import"./supabase-CqkleIqs.js";import"./vendor-D5FTGzKA.js";import"./vendor-react-dom-BABDrAmd.js";import"./admin-surveys-BKkL8UnG.js";import"./admin-secondary-BjRsJMJn.js";import"./admin-courses-BCz7SUS9.js";import"./org-workspace-QMZKXpm0.js";const le=typeof window!="undefined"&&typeof window.location!="undefined",oe=s=>{if(s&&s.trim().length>0)return s.trim();if(le)return window.location.href;if(typeof globalThis!="undefined"){const t=globalThis.location;if(t!=null&&t.href)return t.href}},Q=({title:s="MainProject LMS - Modern Learning Management System",description:t="Comprehensive Learning Management System with course creation, survey tools, and analytics. Transform your training programs with our modern LMS platform.",keywords:a="LMS, Learning Management System, Online Training, Course Creation, E-learning, Educational Technology",image:n="/og-image.png",url:i,type:x="website"})=>{const g=s.includes("MainProject LMS")?s:`${s} | MainProject LMS`,d=oe(i);return e.jsxs(K,{prioritizeSeoTags:!0,children:[e.jsx("title",{children:g}),e.jsx("meta",{name:"description",content:t}),e.jsx("meta",{name:"keywords",content:a}),e.jsx("meta",{property:"og:type",content:x}),e.jsx("meta",{property:"og:title",content:g}),e.jsx("meta",{property:"og:description",content:t}),e.jsx("meta",{property:"og:image",content:n}),d&&e.jsx("meta",{property:"og:url",content:d}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:g}),e.jsx("meta",{name:"twitter:description",content:t}),e.jsx("meta",{name:"twitter:image",content:n}),d&&e.jsx("link",{rel:"canonical",href:d})]})},U=d=>{var y=d,{src:s,alt:t,fallbackSrc:a,className:n="",placeholder:i,threshold:x=.1}=y,g=V(y,["src","alt","fallbackSrc","className","placeholder","threshold"]);const[h,N]=c.useState(!1),[p,C]=c.useState(!1),[j,S]=c.useState(!1),b=c.useRef(null);c.useEffect(()=>{const u=new IntersectionObserver(([r])=>{r.isIntersecting&&(C(!0),u.disconnect())},{threshold:x});return b.current&&u.observe(b.current),()=>u.disconnect()},[x]);const k=c.useCallback(()=>{N(!0)},[]),L=c.useCallback(()=>{S(!0),N(!0)},[]),M=j&&a?a:s;return e.jsxs("div",{ref:b,className:`relative overflow-hidden ${n}`,children:[!h&&i&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:i}),p&&e.jsx("img",B(O({},g),{src:M,alt:t,onLoad:k,onError:L,className:`transition-opacity duration-300 ${h?"opacity-100":"opacity-0"} ${n}`,loading:"lazy"}))]})},G=({className:s="",width:t="w-full",height:a="h-48"})=>e.jsx("div",{className:`animate-pulse bg-gray-200 ${t} ${a} ${s}`,children:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})})});function ie(s,t){const[a,n]=c.useState(s);return c.useEffect(()=>{const i=setTimeout(()=>{n(s)},t);return()=>{clearTimeout(i)}},[s,t]),a}const we=()=>{const s=D(),[t,a]=c.useState([]),[n,i]=c.useState(new Map),[x,g]=c.useState(!0),[d,y]=c.useState("grid"),[h,N]=c.useState(""),[p,C]=c.useState("all"),j=ie(h,300);c.useEffect(()=>{S()},[]);const S=()=>{g(!0),console.log("ðŸ“š Loading learner courses - temporarily using mock data to avoid type conflicts");const r=[{id:"course-1",title:"Introduction to Workplace Diversity",description:"Learn the fundamentals of creating an inclusive workplace environment.",instructorId:"instructor-1",instructorName:"Dr. Sarah Johnson",instructorAvatar:"/avatars/instructor-1.jpg",category:"Diversity & Inclusion",difficulty:"Beginner",duration:"120 min",estimatedDuration:120,thumbnail:"/images/course-diversity.jpg",rating:4.8,enrollmentCount:156,chapters:[],learningObjectives:["Understand diversity concepts","Create inclusive environments"],prerequisites:[],tags:["diversity","inclusion","workplace"],language:"English",lastUpdated:new Date().toISOString(),createdAt:new Date().toISOString(),isPublished:!0,status:"published"}];a(r);const l=new Map;r.forEach(o=>{const f={id:`progress-${o.id}`,learnerId:"learner-1",courseId:o.id,overallProgress:Math.random()*.8,timeSpent:Math.floor(Math.random()*3600),lastAccessedAt:new Date().toISOString(),enrolledAt:new Date(Date.now()-Math.floor(Math.random()*30*24*60*60*1e3)).toISOString(),completedAt:Math.random()>.8?new Date().toISOString():void 0,chapterProgress:[],lessonProgress:[],bookmarks:[],notes:[]};l.set(o.id,f)}),i(l),g(!1)},b=()=>{let r=t;return j&&(r=r.filter(l=>{var o;return l.title.toLowerCase().includes(j.toLowerCase())||l.description.toLowerCase().includes(j.toLowerCase())||((o=l.category)==null?void 0:o.toLowerCase().includes(j.toLowerCase()))})),p!=="all"&&(r=r.filter(l=>{const o=n.get(l.id);switch(p){case"completed":return(o==null?void 0:o.overallProgress)===1;case"in-progress":return o&&o.overallProgress>0&&o.overallProgress<1;case"not-started":return!o||o.overallProgress===0;default:return!0}})),r},k=r=>{s(`/lms/course/${r.id}`)},L=r=>{var o,f;const l=n.get(r.id);if(l&&l.lessonProgress.length>0){const m=(r.chapters||[]).flatMap(v=>v.lessons).find(v=>{const P=l.lessonProgress.find(_=>_.lessonId===v.id);return!(P!=null&&P.completedAt)});s(m?`/lms/course/${r.id}/lesson/${m.id}`:`/lms/course/${r.id}`)}else{const m=(f=(o=r.chapters)==null?void 0:o[0])==null?void 0:f.lessons[0];m&&s(`/lms/course/${r.id}/lesson/${m.id}`)}},M=r=>{const l=n.get(r.id),o=(l==null?void 0:l.lessonProgress.filter(m=>m.isCompleted).length)||0,f=(r.chapters||[]).reduce((m,v)=>m+v.lessons.length,0);return{progress:(l==null?void 0:l.overallProgress)||0,completedLessons:o,totalLessons:f,timeSpent:(l==null?void 0:l.timeSpent)||0,isCompleted:(l==null?void 0:l.overallProgress)===1}};if(x)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Q,{title:"My Learning Dashboard",description:"Track your learning progress, continue courses, and discover new educational opportunities.",keywords:"learning dashboard, course progress, online education, skills development"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(ae,{size:"lg",text:"Loading your courses...",className:"py-20"}),e.jsx("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(r=>e.jsx(ne,{},r))})]})]});const u=b();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Q,{title:"My Learning Dashboard",description:"Track your learning progress, continue courses, and discover new educational opportunities.",keywords:"learning dashboard, course progress, online education, skills development"}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Learning"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Continue your learning journey"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx(ce,{progressData:n,enrolledCourses:t})})]}),e.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-4",role:"search","aria-label":"Course search and filters",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search courses...",value:h,onChange:r=>N(r.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent","aria-label":"Search courses"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("select",{value:p,onChange:r=>C(r.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Courses"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"not-started",children:"Not Started"})]}),e.jsxs("div",{className:"flex border border-gray-300 rounded-lg",children:[e.jsx("button",{onClick:()=>y("grid"),className:`p-2 ${d==="grid"?"bg-orange-100 text-orange-600":"text-gray-600 hover:text-gray-800"}`,children:e.jsx(X,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>y("list"),className:`p-2 ${d==="list"?"bg-orange-100 text-orange-600":"text-gray-600 hover:text-gray-800"}`,children:e.jsx(Y,{className:"w-5 h-5"})})]})]})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(de,{onCourseSearch:()=>s("/lms/courses")}),e.jsxs("div",{className:"mt-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["My Courses (",u.length,")"]})}),u.length===0?e.jsx(xe,{searchQuery:h,filterStatus:p}):e.jsx("div",{className:d==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:u.map(r=>e.jsx(me,{course:r,stats:M(r),viewMode:d,onCourseClick:()=>k(r),onContinue:()=>L(r)},r.id))})]})]})]})},ce=({progressData:s})=>{const t=Array.from(s.values()).filter(i=>i.overallProgress===1).length,a=Array.from(s.values()).filter(i=>i.overallProgress>0&&i.overallProgress<1).length,n=Array.from(s.values()).reduce((i,x)=>i+x.timeSpent,0);return e.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t}),e.jsx("div",{className:"text-gray-600",children:"Completed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a}),e.jsx("div",{className:"text-gray-600",children:"In Progress"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:Math.round(n/60)}),e.jsx("div",{className:"text-gray-600",children:"Hours"})]})]})},de=({onCourseSearch:s})=>{const t=D();return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:s,className:"p-4 bg-white rounded-lg border border-gray-200 hover:border-orange-300 hover:shadow-md transition-all text-left",children:[e.jsx(E,{className:"w-6 h-6 text-orange-600 mb-2"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Browse Courses"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Discover new learning opportunities"})]}),e.jsxs("button",{onClick:()=>t("/lms/certificates"),className:"p-4 bg-white rounded-lg border border-gray-200 hover:border-orange-300 hover:shadow-md transition-all text-left",children:[e.jsx(Z,{className:"w-6 h-6 text-orange-600 mb-2"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"My Certificates"}),e.jsx("p",{className:"text-sm text-gray-600",children:"View earned certifications"})]}),e.jsxs("button",{onClick:()=>t("/lms/progress"),className:"p-4 bg-white rounded-lg border border-gray-200 hover:border-orange-300 hover:shadow-md transition-all text-left",children:[e.jsx(ee,{className:"w-6 h-6 text-orange-600 mb-2"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Progress Report"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Track your learning analytics"})]}),e.jsxs("button",{onClick:()=>t("/lms/goals"),className:"p-4 bg-white rounded-lg border border-gray-200 hover:border-orange-300 hover:shadow-md transition-all text-left",children:[e.jsx(se,{className:"w-6 h-6 text-orange-600 mb-2"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Learning Goals"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Set and track your objectives"})]})]})},me=({course:s,stats:t,viewMode:a,onCourseClick:n,onContinue:i})=>a==="list"?e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:border-orange-300 hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx(U,{src:s.thumbnail,alt:s.title,className:"w-24 h-16 object-cover rounded-lg",placeholder:e.jsx(G,{className:"rounded-lg"}),fallbackSrc:"/placeholder-course.jpg"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:s.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-2 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(I,{className:"w-4 h-4 mr-1"}),t.completedLessons,"/",t.totalLessons," lessons"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 mr-1"}),s.estimatedDuration," min"]}),s.rating&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(R,{className:"w-4 h-4 mr-1 fill-yellow-400 text-yellow-400"}),s.rating.toFixed(1)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"mb-2",children:t.isCompleted?e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(H,{className:"w-3 h-3 mr-1"}),"Completed"]}):t.progress>0?e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(F,{className:"w-3 h-3 mr-1"}),"In Progress"]}):e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Not Started"})}),e.jsx("button",{onClick:i,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors text-sm font-medium",children:t.progress>0?"Continue":"Start Course"})]})]}),t.progress>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Progress"}),e.jsxs("span",{className:"font-medium",children:[Math.round(t.progress*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-300",style:{width:`${t.progress*100}%`}})})]})]})]})}):e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:border-orange-300 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"aspect-video relative",children:[e.jsx(U,{src:s.thumbnail,alt:s.title,className:"w-full h-full object-cover",placeholder:e.jsx(G,{}),fallbackSrc:"/placeholder-course.jpg"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-20 transition-all cursor-pointer flex items-center justify-center",children:e.jsx(F,{className:"w-12 h-12 text-white opacity-0 hover:opacity-100 transition-opacity"})}),t.isCompleted&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("div",{className:"bg-green-500 text-white p-1 rounded-full",children:e.jsx(H,{className:"w-4 h-4"})})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:s.title})}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 mr-1"}),s.estimatedDuration," min"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(I,{className:"w-4 h-4 mr-1"}),t.totalLessons," lessons"]}),s.rating&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(R,{className:"w-4 h-4 mr-1 fill-yellow-400 text-yellow-400"}),s.rating.toFixed(1)]})]}),t.progress>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Progress"}),e.jsxs("span",{className:"font-medium",children:[Math.round(t.progress*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-300",style:{width:`${t.progress*100}%`}})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:i,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium",children:t.progress>0?"Continue":"Start Course"}),e.jsx("button",{onClick:n,className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"View Details",children:e.jsx(te,{className:"w-4 h-4"})})]})]})]}),xe=({searchQuery:s,filterStatus:t})=>{const a=D();return s||t!=="all"?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(E,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No courses found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search or filter criteria"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"text-orange-600 hover:text-orange-800",children:"Clear filters"})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(I,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No courses yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Start your learning journey by enrolling in courses"}),e.jsxs("button",{onClick:()=>a("/lms/courses"),className:"inline-flex items-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:["Browse Courses",e.jsx(re,{className:"w-4 h-4 ml-2"})]})]})};export{we as default};
