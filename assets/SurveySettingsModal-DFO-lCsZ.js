var p=Object.defineProperty,y=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var x=(n,t,a)=>t in n?p(n,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[t]=a,i=(n,t)=>{for(var a in t||(t={}))f.call(t,a)&&x(n,a,t[a]);if(d)for(var a of d(t))N.call(t,a)&&x(n,a,t[a]);return n},r=(n,t)=>y(n,j(t));import{r as v,j as e,h as k,X as w,a1 as C,ac as S,U as q}from"./vendor-react-DJ2SMxUZ.js";import"./supabase-CqkleIqs.js";import"./vendor-B_fIqYiW.js";import"./vendor-react-dom-Bu8tewph.js";const P=({isOpen:n,onClose:t,settings:a,onSave:m})=>{const[c,u]=v.useState(a);if(!n)return null;const h=()=>{m(c),t()},l=(s,g,b)=>{u(o=>r(i({},o),{[s]:r(i({},o[s]),{[g]:b})}))};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",role:"dialog","aria-modal":"true","aria-labelledby":"settings-modal-title",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-gray-100 p-2 rounded-lg",children:e.jsx(k,{className:"h-6 w-6 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h2",{id:"settings-modal-title",className:"text-xl font-bold text-gray-900",children:"Survey Settings"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Configure access control, notifications, and advanced options"})]})]}),e.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg","aria-label":"Close settings modal",children:e.jsx(w,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh] space-y-6",children:[e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(C,{className:"h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Access Control"})]}),e.jsxs("div",{className:"space-y-4 pl-7",children:[e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:c.accessControl.requireAuth,onChange:s=>l("accessControl","requireAuth",s.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Require authentication"})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:c.accessControl.allowAnonymous,onChange:s=>l("accessControl","allowAnonymous",s.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Allow anonymous responses"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time limit (minutes, 0 = no limit)"}),e.jsx("input",{type:"number",value:c.accessControl.timeLimit,onChange:s=>l("accessControl","timeLimit",parseInt(s.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0"})]})]})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(S,{className:"h-5 w-5 text-green-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"})]}),e.jsxs("div",{className:"space-y-4 pl-7",children:[e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:c.notifications.sendReminders,onChange:s=>l("notifications","sendReminders",s.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Send reminder emails"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder frequency"}),e.jsxs("select",{value:c.notifications.reminderFrequency,onChange:s=>l("notifications","reminderFrequency",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"biweekly",children:"Bi-weekly"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:c.notifications.completionNotifications,onChange:s=>l("notifications","completionNotifications",s.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Send completion notifications"})]})]})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(q,{className:"h-5 w-5 text-purple-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Advanced Options"})]}),e.jsxs("div",{className:"space-y-4 pl-7",children:[e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:c.advanced.allowBack,onChange:s=>l("advanced","allowBack",s.target.value),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Allow navigating back to previous questions"})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:c.advanced.showProgress,onChange:s=>l("advanced","showProgress",s.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show progress indicator"})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:c.advanced.randomizeQuestions,onChange:s=>l("advanced","randomizeQuestions",s.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Randomize question order"})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:c.advanced.preventMultipleSubmissions,onChange:s=>l("advanced","preventMultipleSubmissions",s.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Prevent multiple submissions"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200",children:[e.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),e.jsx("button",{onClick:h,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Settings"})]})]})})};export{P as default};
