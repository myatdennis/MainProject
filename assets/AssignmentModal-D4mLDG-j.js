import{r as u,j as e,O as b,X as j,aL as g,U as p}from"./vendor-react-BzqoynUn.js";import"./supabase-CqkleIqs.js";import"./vendor-CJa7hCLd.js";import"./vendor-react-dom-B0fiOPS0.js";const w=({isOpen:i,onClose:l,organizations:r,selectedOrganizations:n,onSave:c})=>{const[a,d]=u.useState(n);if(!i)return null;const x=s=>{d(t=>t.includes(s)?t.filter(h=>h!==s):[...t,s])},m=()=>{c(a),l()},o=r.filter(s=>a.includes(s.id)).reduce((s,t)=>s+t.learners,0);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",role:"dialog","aria-modal":"true","aria-labelledby":"assignment-modal-title",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full mx-4 max-h-[80vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:e.jsx(b,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{id:"assignment-modal-title",className:"text-xl font-bold text-gray-900",children:"Assign Survey to Organizations"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Select organizations that should receive this survey"})]})]}),e.jsx("button",{onClick:l,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg","aria-label":"Close assignment modal",children:e.jsx(j,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[e.jsxs("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Selected Organizations:"}),e.jsx("span",{className:"font-medium text-gray-900",children:a.length})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-600",children:"Total Learners:"}),e.jsx("span",{className:"font-medium text-blue-600",children:o})]})]}),e.jsx("div",{className:"space-y-3",children:r.map(s=>{const t=a.includes(s.id);return e.jsx("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${t?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>x(s.id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${t?"bg-blue-600 border-blue-600":"border-gray-300"}`,children:t&&e.jsx(g,{className:"h-3 w-3 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.type})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[e.jsx(p,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.learners," learners"]})]})})]})},s.id)})})]}),e.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200",children:[e.jsx("button",{onClick:l,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),e.jsxs("button",{onClick:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:["Save Assignment (",a.length," organizations)"]})]})]})})};export{w as default};
